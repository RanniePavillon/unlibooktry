<style>
.prevColMainHolder{
	width: 100%;
	margin: auto;
	padding: 0;
	margin-top: 50px;
}
.printPrevHolder{
	width:875px!important;
    height:auto!important;
	border:none!important;
    margin:auto;
    padding:20px;
    font-family:Arial;
    font-size:12px;
    background:#fff;
}
.companyInfoHolder{
	text-align:center;
	font-family:Verdana;
	font-size:12px;
}
.dateInput{
	border-bottom:1px solid #000;
	border-top:none;
	border-left:none;
	border-right:none;
	width: 104px;
	outline-style:none;
}
.txtLeftRight{
	margin-left: 30;
	margin-right: 30;
	font-family: Verdana;
	font-size: 12px;
	width: 638px;
}
.inputUnderline{
    border-bottom:1px solid #000;
    border-top:none;
    border-left:none;
    border-right:none;
    outline-style:none;
    padding-left:3px;
	margin-top:2px;
}
.lineWidth1{
    width:300px;
}
.lineWidth2{
    width:145px!important;
}
.lineWidth3{
    width:371px;
}
.lineWidth4{
    width:492px;
}
.lineWidth5{
    width:593px;
}
.lineWidth6{
    width:110px;
    text-align:left;
}
.lineWidth7{
    width:271px;
}
.lineWidth8{
    width:100px;
}
.xRight{
	text-align:right;
}
.pdf {
	color: white;
	background-color: rgb(89,89,89);
	border: none;
	border-radius: 3px;
	padding: 3px 10px 3px 10px;
	margin-left: 550px;
	/* margin-top: 27px; */
	box-shadow: 0px 0px 3px 1px gray;
	font-family: calibri;
	font-weight: bold;
	width: 47px;
	height: 25px;
}
.pdf2 {
	color: white;
	background-color:#183867;
	border: none;
	border-radius: 3px;
	padding: 3px 10px 3px 10px;
	font-family: calibri;
	font-weight: bold;
	width: 47px;
	height: 25px;
	margin-left:622px;
}
.taxTypeCol{
	border-bottom: 1px solid #000;
	border-top: none;
	border-left: none;
	border-right: none;
	width: 47px;
	text-align: center;
}
.ORNumber{
    font-size: 15px;
    font-family: Arial;
    font-weight: bold;
    text-align: right;
}
.txtInp4a{
	border-bottom: 1px solid #000!important;
	border: none;
	width: 638px;
}
.txtInp5a{
	border-bottom: 1px solid #000!important;
	border: none;
	width:118px;
}

	/* vat */
	.prevColMainHolder2{
		width:100%;
		margin:auto;
		padding:0;
		margin-top:80px;
	}
	
	.printPrevHolder2{
		width:930px;
		height:auto!important;
		margin-top:40px;
		margin:auto;
		background:#fff;
		border:1px solid gray;
		padding-bottom: 50px;
	}
	.vatcontainer2{
		  margin-left: 232px;
		  width:700px;
	} 

	.tablevat{
		float:left;
	}
	.xRight22{
		/* width:700px; */
		text-align:right;
	}
	.pdf2vat {
		margin-left:597px !important;
	}
	.vattablecol{
		margin-top:20px;
		margin-left:20px;
	}
	.vattablecol td{
		padding:5px !important;
		color:#000;
		border:solid 1px #000;
	}	
	.titletds{
		background-color:rgb(84,144,199);
		color:#fff;
	}
	.lightBlueTD{
		background-color:rgb(191, 213, 234)
	}
	.lightGrayTD{
		background-color:#E8E8E8;
	}
	.borderThick {
	  border-top: 2px solid #000;
	  border-bottom: 2px solid #000;
	}
	.leftSideOR{
		float:left;
		height:auto!important;
	}
	.tblORvatLeftSide{
		border-collapse:collapse;
		width:265px;
		border:1px solid #000;
		font-family:Agency FB;
		font-size:13px;
	}
	.tblORvatLeftSide tr td{
		border:1px solid #000;
		padding-left:3px;
	}
	.lightBlueTD{
		background:rgb(191, 213, 234);
		border: 1px solid #000;
		color: #000;
		font-family: Verdana;
		font-size: 9px;
		font-weight: normal;
		text-align:left;
	}
	.lightGrayTD{
		background:#E8E8E8;
		border: 1px solid #000;
		color: #000;
		font-family: Verdana;
		font-size: 9px;
		font-weight: normal;
		text-align:left;
	}
	.blueGrayWidth{
		width:70px;
		text-align:right;
	}
	.blueGrayWidth2{
		width:20px;
		text-align:left;
		padding:5px;
	}
	.borderThick{
		border-top:2px solid #000;
		border-bottom:2px solid #000;
	}
	.formOfPayment{
		font-size: 9px;
		background: rgb(84,144,199);
		color: #fff;
		border: 1px solid #000;
	}
	.modeOfPayment{
		-webkit-transform: scale(2);
		width:10px;
		height:10px;
	}
	.rightButtons{
		margin-left:34px;
		background-color: #183867;
		color: #fff;
		font-weight: bold;
		border: none;
		border-radius: 3px;
		padding: 3px;
		width: 60px;
		height: 22px;
		font-size: 12px;
		font-family: Verdana;
	}
	.tblORvatLeftSide th{
		padding:5px!important;
	}
	.popx{
		background-image:url('<?=URL?>public/images/popx.png');
		background-size:100% 100%;
		cursor:pointer;
	}
	.closePrint{
		width: 23px;
        border: none;
        height: 22px;
        float:left;
		margin-left:5px;
	}
	.ORNumber{
		margin-top:33px!important;
		font-size: 15px;
		font-family:Arial;
		font-weight: bold;
		text-align: right;
	}
	.ORtext{
		font-size:15px;
		margin-top:30px;	
		text-align:center;
		font-weight:bold;
	}
	.rightSideOR{
		width:597px!important;
		height: auto!important;
		float:right!important;
	}
	.inputUnderline{
		border-bottom:1px solid #000;
		border-top:none;
		border-left:none;
		border-right:none;
		outline-style:none;
		padding-left:3px;
		margin-top:2px;
	}
	.lineWidth{
		width:100px;
	}
	.companyInfoNonVat{
		text-align:center;
		float: left!important;
		margin-left: 136px!important;
		width: 609px!important;
	}
	.addressInp {
		width: 250px;
		word-break: break-word;
		border: none;
		text-align: center;
		outline-style: none;
		margin-left: 174px;
		font-family: Verdana;
		font-size: 12px;
	}
	.regName {
		font-size: 15px;
		font-weight: bold;
		text-transform: uppercase;
		text-align: center;
	}
	.regcontainer a {
		color: #000;
		text-decoration: none;
	}
	.regcontainer a:hover{
		color:#B13C56;
		text-decoration:underline;
	}
@media print {
    .mainbodyInvoice, #headerHead, #container, .hideRep, .hideText, .companyInfoNonVat, .birReg, .bottomRight, .hideDate, .ORNumber, .ORtext, .leftSideOR, .tblORvatLeftSide, .mainBody, #footer, #header, .footerHolderNew, input[type=button] {
        display: none;
    }
	.inputUnderline{
		border:none!important;
	}
	.withMarginLeft1{
		margin-left:81px;
	}
	.withMarginLeft2{
		margin-left:48px;
	}
	.withMarginLeft3{
		margin-left:84px;
	}
	.withMarginLeft4{
		margin-left:43px;
	}
	.withMarginLeft6{
		margin-left:13px;
	}
	.withMarginLeft7{
		margin-left:13px;
	}
	.printPrevHolder{
		width:595px!important;
	}
	.lineWidth{
		border:none!important;
		text-align:right!important;
	}
	.printPrevHolder{
		border:none!important;
	}
	.mainContainer{
		border:none!important;
	}
    .companyInfo{
        margin-left:0px;
    }
    .Main{
        background: none;
        margin:auto;
        border:none;
    }
    .invoiceHolderNewInvoiceForm {
        display:none !important;
    }
    .boxshadowprint{
        border:none !important;
        box-shadow:none !important;
    }
    .PaymentTypeFormInvoice{
        margin-top:30px;
        border:none !important;
        border-shadow:none;
        width: 805px;
    }
    .newInvoiceprint{
        margin-top:80px;
    }
    .clogoup{
        margin-top:1px;
    }
    .popBack{
        width:900px;
        margin:auto;
        overflow: hidden;
        position: static;
        background-color: #fff;
        border:none !important;
        border-shadow:none !important;
    }

    @page {
        size: A5 landscape;
        margin:auto;
        margin: 5px;
        margin-top:10px;
        border:none;

    }
    thead   {display: table-header-group;   }

    tfoot   {display: table-footer-group;   }


    @media screen{
        thead   {display: table-header-group;   }

        tfoot   {display: table-footer-group;   }
    }

}
</style>
<pre>
<?php
	$info = $this->orgInfo;
	$org = $this->org;
	$data = $this->getData[0];
	// print_r($data);
	$invoices = '';
	
$invoiceamount = new TblPayableAmount();
$subtotallessvat = 0;

if ($this->getData) {
    foreach ($this->getData as $each) {
		
        $invoices .= $each['payable_number'] . ', ';
		$subtotallessvat += $each['sub_total_amount'] - $each['vat_amount'];
		$invoiceamount->subTotalAmount += $each['sub_total_amount'];
		$invoiceamount->vatAmount += $each['vat_amount'];
    }
}
	$amountData = explode('.',$data['amount_received']);
	// print_r($amountData);
	$words = '';ucwords (inwords::convert_number_to_words($amountData[0]));
	if($amountData[0] != ''){
		$words = ucwords(inwords::convert_number_to_words($amountData[0]));
	}
	$words .= $words != '' ? ' Pesos ' : '';
	if(isset($amountData[1])){
		$words = $words != '' ? $words.' And ' : '';
		$words .= ucwords(inwords::convert_number_to_words($amountData[1])) . ' Centavos';
	}
	
	$words .= $words != '' ? ' 0nly ' : '';
	// $words .= ' only ';
?>
</pre>


<div class="prevColMainHolder">
	<div class="printPrevHolder">
		<div class="companyInfoNonVat">
			<div>
				<div class="regName"><b><?= strtoupper ($org->orgName) ?></b></div>
            </div>
            <div class="addressInp">
				<?= ucwords ($info->address) ?>
			</div>
			<div>	
				<label>NON-VAT Reg. TIN: <?= $info->tinNum ?>
			</div>
        </div>
		<div style="float:right;">
			<input type="button" class="rightButtons hidden" value="PDF" onclick="viewpdf(<?php echo $invoice->id ?>)">
			<input type="button" class="rightButtons" value="PRINT" onclick="window.print();" style="float:left;">
			<input type="button" class="closePrint popx" value="" style="float:left;">
			<div style="clear:both;"></div>
		</div>
		<div style="clear:both;"></div>
		<div class="ORNumber"><?= $data['col_num']?></div>
        <div class="ORtext">OFFICIAL RECEIPT</div>
		
		<div style="margin-top:30px;">
			<div class="leftSideOR hiddens">
				<table class="tblORvatLeftSide hiddens">
					<tr>
						<th class="lightBlueTD">Official Receipt No.</th>
						<th class="lightBlueTD" colspan="2" style="text-align:center;">Amount</th>
					</tr>
					<tr>
						<th  class="lightGrayTD"></th>
						<th  class="lightGrayTD blueGrayWidth">
							<?php
							// $grandTotalArray = explode('.', Controller::getFloat($invoiceamount->grandTotal));
							// echo $grandTotalArray[0];
							?>
						</th>
						<th  class="lightGrayTD blueGrayWidth2"><!--?= $grandTotalArray[1] ?--></th>
					</tr>
					<tr class="hidden">
						<th class="lightBlueTD">0</th>
						<th class="lightBlueTD blueGrayWidth">0</th>
						<th class="lightBlueTD blueGrayWidth2">00</th>
					</tr>
					<tr>
						<th class="lightBlueTD borderThick">Total Sales</th>
						<th class="lightBlueTD borderThick blueGrayWidth">
							<?php
							//$grandTotalArray = explode('.', Controller::getFloat($invoiceamount->grandTotal));
							//echo $grandTotalArray[0];
							?>
						</th>
						<th class="lightBlueTD borderThick blueGrayWidth2"><?  //=$grandTotalArray[1] ?></th>
					</tr>
					<tr>
						<th class="lightGrayTD">Less: SC/PWD Discount</th>
						<th class="lightGrayTD blueGrayWidth">0</th>
						<th class="lightGrayTD blueGrayWidth2">00</th>
					</tr>
					<tr>
						<th class="lightBlueTD">Total Due</th>
						<th class="lightBlueTD blueGrayWidth">
							<?php
							//$grandTotalArray = explode('.', Controller::getFloat($invoiceamount->grandTotal));
							//echo $grandTotalArray[0];
							?>
						</th>
						<th class="lightBlueTD blueGrayWidth2"><? //= $grandTotalArray[1] ?></th>
					</tr>
					<tr>
						<th class="lightGrayTD">Less: Withholding Tax</th>
						<th class="lightGrayTD blueGrayWidth">0</th>
						<th class="lightGrayTD blueGrayWidth2">00</th>
					</tr>
					<tr>
						<th class="lightBlueTD">Payment Due</th>
						<th class="lightBlueTD blueGrayWidth">
							<?php
							//$grandTotalArray = explode('.', Controller::getFloat($invoiceamount->grandTotal));
							//echo $grandTotalArray[0];
							?>
						</th>
						<th class="lightBlueTD blueGrayWidth2"><? //= $grandTotalArray[1] ?></th>
					</tr>
					<tr class="hidden">
						<th class="lightGrayTD">0</th>
						<th class="lightGrayTD blueGrayWidth">0</th>
						<th class="lightGrayTD blueGrayWidth2">00</th>
					</tr>
					<tr class="hiddens">
						<th class="lightGrayTD">0</th>
						<th class="lightGrayTD blueGrayWidth">0</th>
						<th class="lightGrayTD blueGrayWidth2">00</th>
					</tr>
					<tr class="hiddens">
						<th class="lightBlueTD">0</th>
						<th class="lightBlueTD blueGrayWidth">0</th>
						<th class="lightBlueTD blueGrayWidth2">00</th>
					</tr>
					<tr>
						<th colspan="3" class="formOfPayment">Form of Payment:</th>	
					</tr>
					<tr>
						<th class="lightBlueTD" colspan="4">
							<span><label style="margin-left:47px;">Cash</label> <input type="checkbox" class="modeOfPayment" style="margin-left:10px;" disabled> </span>
							<span><label style="margin-left:44px;">Check</label> <input type="checkbox" class="modeOfPayment" style="margin-left:10px;" disabled></span>
						</th>	
					</tr>
				</table>		
			</div>
		<div class="rightSideOR">
			<div style="float:right;">
				<label class="hideDate">Date:</label> <input type="text" class="inputUnderline lineWidth" value="<?= date('m/d/Y', strtotime($data['date_received']))?>" readonly />
			</div>
            <div style="clear:both;"></div>
			
			<div style="text-indent:20px;margin-top:20px;">
					<label class="hideText">Received from</label> <input type="text" class="inputUnderline lineWidth1 withMarginLeft1" value="<?= ucwords($data['name']) ?>" readonly>
					<label class="hideText">with TIN</label> <input type="text" class="inputUnderline lineWidth2 withMarginLeft2" value="<?= $data['tin'] ?>" readonly> 
					<label class="hideText">and address at</label> <input type="text" class="inputUnderline lineWidth3 withMarginLeft3" value="<?= ucwords($data['address']) ?>" readonly>
					<label class="hideText">engaged in the business style of</label> <input type="text" class="inputUnderline lineWidth4 withMarginLeft4"><label class="hideText">,</label> 
					<label class="hideText">the sum of</label>  <input type="text" class="inputUnderline lineWidth5" value="<?= ($words) ?>">
					<label class="hideText">(&#8369;</label> <input type="text" class="inputUnderline lineWidth6 withMarginLeft6" value="<?= Controller::getFloat($data['amount_received']) ?>"><label class="hideText">).</label> 
					<label class="hideText">In partial/full payment for</label> <input type="text" class="inputUnderline lineWidth7 withMarginLeft7"
						value="<?= $invoices ?>" readonly><label class="hideText">.</label>
			</div>
			<div class="hideRep"style="margin-left:405px;margin-top:30px;">
				<span>By:</span> <input type="text" class="inputUnderline txtInp9">
				<br/>
				<label style="margin-left:54px;font-size:10px;">Authorized Representative</label>
			</div>
		</div>
		<div style="clear:both;"></div>
	</div>
		<div class="regcontainer" style="font-family:Verdana;font-size:12px;">
			<a href="" class="birReg">Use of Official Receipt from Unlibooks needs BIR registration</a>
		</div>
	</div>
</div>
<script>
$('.birReg').click(function () {
	$.post(URL + 'invoice/bir')
			.done(function (returnData) {
				$('.popBack').html(returnData);
				$('.popBack').removeClass('hidden');
				$('body').css('overflow', 'hidden');
				$(".popBack").css('z-index', '100');

				$('.no').click(function () {
					if (confirm('Are you sure you want to leave this page?')) {
						$('.popBack').addClass('hidden');
						$('.popBack').html('');
						$('body').css('overflow', 'auto');
						// location.reload();
					}
				});

			})
			.fail(function () {
				alert('Connection Error!');
			});

	return false;

});
</script>
